<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accueil - Espace √âtudiant</title>
    <style>
/* 1. Reset & Base */
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #ccc; /* Couleur de texte principale √©claircie pour le fond sombre */
            
            /* Fond Th√®me Magie/Science */
            background: url('https://e0.pxfuel.com/wallpapers/955/776/desktop-wallpaper-assassins-creed-4-logo-version-black-flag-game-2013-assassin-s-creed-logo.jpg') 
                        no-repeat center center fixed;
            background-size: cover;
            min-height: 100vh;
            padding-top: 70px; /* Espace pour le bandeau fixe */
        }

        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }

/* 2. Bandeau (Navigation) */
        .bandeau {
            background-color: rgba(16, 16, 32, 0.95); /* Bleu nuit tr√®s fonc√© */
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5);
            z-index: 1000;
        }
        .menu-links {
            display: flex;
            gap: 20px;
            flex-grow: 1;
            justify-content: flex-end;
        }
        .bandeau a {
            color: #e0e0ff; /* Bleu clair subtil */
            text-decoration: none;
            padding: 8px 15px;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 5px;
            font-weight: 500;
        }
        .bandeau a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        .menu-btn {
            display: none; 
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0 10px;
        }

/* 3. Section d'Ent√™te (Le 'Hero') */
        .hero-header {
            text-align: center;
            padding: 60px 20px;
            margin-bottom: 40px;
            color: white;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.8);
            
            /* Nouveau fond d'ent√™te plus dynamique */
            background: linear-gradient(rgba(16, 16, 32, 0.7), rgba(16, 16, 32, 0.7)), 
                        url('https://e1.pxfuel.com/desktop-wallpaper/344/998/desktop-wallpaper-assassin-s-creed-for-pc-10041-assassin-creed.jpg') 
                        no-repeat center center;
            background-size: cover;
            border-radius: 15px;
            border: 2px solid #5757a3; /* Bordure th√©matique */
        }
        .hero-header h1 { 
            font-size: 3rem; 
            margin-bottom: 15px; 
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            display: inline-block;
            padding-bottom: 10px;
        }
        .hero-header p { 
            font-size: 1.4rem; 
            font-style: italic;
        }

/* 4. Contenu Principal (Bo√Æte d'information) */
        .info-box {
            background: rgba(255, 255, 255, 0.1); /* Fond l√©g√®rement transparent */
            backdrop-filter: blur(5px); /* Effet de flou sur l'arri√®re-plan */
            -webkit-backdrop-filter: blur(5px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff; /* Texte clair pour le fond semi-transparent */
        }
        .info-box h2 {
            color: #92dff3; /* Titre bleu clair */
            margin-bottom: 20px;
            font-size: 2em;
        }
        .info-box strong {
            color: #000000; /* Jaune pour les informations importantes */
        }

/* 5. Footer */
        footer {
            text-align: center;
            padding: 15px;
            color: #b0b0b0;
            font-size: 0.85rem;
            background-color: rgba(16, 16, 32, 0.95);
            margin-top: 40px;
            border-top: 2px solid #5757a3;
        }

/* 6. Media Queries pour Mobile */
        @media (max-width: 768px) {
            .bandeau {
                padding: 10px 15px;
            }
            .menu-links {
                display: none;
                flex-direction: column;
                width: 100%;
                position: absolute;
                top: 54px; 
                left: 0;
                background-color: rgba(16, 16, 32, 0.98);
                box-shadow: 0 4px 5px rgba(0,0,0,0.3);
            }
            .menu-links.active {
                display: flex;
            }
            .menu-links a {
                padding: 12px 20px;
                border-bottom: 1px solid #333;
                text-align: left;
            }
            .menu-btn {
                display: block;
            }
            .hero-header h1 { font-size: 2rem; }
            .hero-header p { font-size: 1.1rem; }
            .info-box { padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="bandeau">
        <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
        <div class="menu-links" id="menuLinks">
            <a href="index.html">Accueil</a> 
            <a href="1ere ann√©e.html" data-class="Premi√®re">Cours de Premi√®re</a>
            <a href="Quiz de r√©vision de 1√®re Ann√©e.html" data-class="Premi√®re">Quiz de Premi√®re</a> 
            <a href="Connexion √©tudiant.html" id="authLink">Connexion √âtudiant</a>
        </div>
    </div>
    
    <div class="container">
        <header class="hero-header">
            <h1>Espace √âl√®ve : Physique-Chimie ‚ú®</h1>
            <p>Votre portail s√©curis√© pour la r√©ussite en science.</p>
        </header>

        <div class="info-box" id="pageContent">
            <h2 style="color: #ffffff;">Chargement...</h2>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Mon Site √âducatif | Programm√©e par NGUYEN Thomas</p>
    </footer>

    <script>
        const LOGIN_PAGE = "Connexion √©tudiant.html";
        const TARGET_CLASS = "Premi√®re"; 

        function logout() {
            localStorage.removeItem("isLoggedIn");
            localStorage.removeItem("currentUser");
            localStorage.removeItem("studentClass");
            window.location.replace(LOGIN_PAGE);
        }

        /**
         * Applique le contr√¥le d'acc√®s sur le menu.
         */
        function applyAccessControl() {
            const studentClass = localStorage.getItem('studentClass'); 
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            const menuLinksContainer = document.getElementById('menuLinks');
            const authLink = document.getElementById('authLink');
            
            // 1. GESTION DU LIEN D'AUTHENTIFICATION / D√âCONNEXION
            if (isLoggedIn) {
                authLink.textContent = `D√©connexion (${studentClass || TARGET_CLASS})`; 
                authLink.href = "#";
                authLink.onclick = logout;
            } else {
                 authLink.textContent = "Connexion √âtudiant";
                 authLink.href = LOGIN_PAGE;
                 authLink.onclick = null;
            }
            
            // 2. FILTRAGE DES LIENS (COURS & QUIZ)
            const allLinks = menuLinksContainer.querySelectorAll('a');
            
            allLinks.forEach(link => {
                const requiredClass = link.getAttribute('data-class');
                const isAuthLink = link.id === 'authLink';
                const isHomeLink = link.href.endsWith('index.html');
                
                // Masquer par d√©faut (sera surcharg√© par le CSS media query en mobile, mais c'est ok)
                if (!isAuthLink && !isHomeLink) {
                   link.style.display = 'none';
                }

                if (isAuthLink || isHomeLink) {
                    // Toujours visibles
                    link.style.display = 'block'; 
                } else if (isLoggedIn && requiredClass) {
                    // Afficher uniquement si l'utilisateur est dans la bonne classe
                    if (studentClass === TARGET_CLASS) { 
                        link.style.display = 'block'; 
                    }
                }
            });
        }


        // Fonction pour afficher le contenu de la page d'accueil si connect√©
        function renderHomePageContent() {
            const contentBox = document.getElementById('pageContent');
            const studentName = localStorage.getItem('currentUser') || "√âtudiant";
            const studentClass = localStorage.getItem('studentClass') || TARGET_CLASS;
            
            contentBox.innerHTML = `
                <h2>üéâ Bienvenue, ${studentName} !</h2>
                <p style="margin-top: 15px; font-size: 1.3em;">
                    Vous √™tes connect√©(e) en tant qu'√©l√®ve de **${studentClass}** !
                </p>
                <p style="width: 80%; margin: 30px auto 10px; font-size: 1.1em;">
                    Utilisez le menu ci-dessus pour acc√©der directement √† vos ressources :
                    <br><br>
                    <span style="color: #ffcc00; font-weight: bold;">Cours de Premi√®re</span> et
                    <span style="color: #ffcc00; font-weight: bold;">Quiz de r√©vision</span>.
                </p>
            `;
            
            applyAccessControl();
        }


        // --- EX√âCUTION AU CHARGEMENT ---
        document.addEventListener('DOMContentLoaded', () => {
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';

            if (!isLoggedIn) {
                // Rediriger si non connect√©
                window.location.replace(LOGIN_PAGE);
                return;
            }
            
            renderHomePageContent();
        });

        // Fonction pour le menu mobile
        function toggleMenu() {
            document.getElementById("menuLinks").classList.toggle("active");
        }
    </script>
</body>
</html>
